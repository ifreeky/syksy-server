"use strict";(self.webpackChunkqing_zhou=self.webpackChunkqing_zhou||[]).push([[37],{51089:function(e,n,r){r(33209);var t=r(57025),s=r(75782),a=r(58733),o=r(4637),i=r(87441),l=r(59496),c=r(84198),u=r(54021),d=["options","fieldProps","proFieldProps","valueEnum"],p=l.forwardRef((function(e,n){var r=e.options,t=e.fieldProps,l=e.proFieldProps,c=e.valueEnum,p=(0,a.Z)(e,d);return(0,o.jsx)(u.Z,(0,s.Z)({ref:n,valueType:"checkbox",valueEnum:(0,i.h)(c,void 0),fieldProps:(0,s.Z)({options:r},t),lightProps:(0,s.Z)({labelFormatter:function(){return(0,o.jsx)(u.Z,(0,s.Z)({ref:n,valueType:"checkbox",mode:"read",valueEnum:(0,i.h)(c,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:r},t),proFieldProps:l},p))}},p.lightProps),proFieldProps:l},p))})),f=l.forwardRef((function(e,n){var r=e.fieldProps,a=e.children;return(0,o.jsx)(t.Z,(0,s.Z)((0,s.Z)({ref:n},r),{},{children:a}))})),m=(0,c.G)(f,{valuePropName:"checked"});m.Group=p,n.Z=m},74958:function(e,n,r){r.d(n,{A:function(){return y}});r(98649);var t=r(35195),s=r(75782),a=r(4637),o=r(29214),i=r(24572),l=(r(34940),r(6825)),c=(r(77178),r(57500)),u=r(91600),d=r(30264),p=r(84749),f=r(39277),m=r(19803),h=r.n(m),g=r(59496),v=r(19090),x=r(23182),j=g.forwardRef((function(e,n){var r=g.useContext(v.Z).groupProps,t=(0,s.Z)((0,s.Z)({},r),e),o=t.children,m=t.collapsible,j=t.defaultCollapsed,Z=t.style,_=t.labelLayout,y=t.title,M=void 0===y?e.label:y,P=t.tooltip,w=t.align,b=void 0===w?"start":w,C=t.direction,N=t.size,F=void 0===N?32:N,k=t.titleStyle,z=t.titleRender,L=t.spaceProps,I=t.extra,E=t.autoFocus,S=(0,p.Z)((function(){return j||!1}),{value:e.collapsed,onChange:e.onCollapse}),R=(0,u.Z)(S,2),T=R[0],V=R[1],q=(0,g.useContext)(c.ZP.ConfigContext).getPrefixCls,D=(0,x.zx)(e),W=D.ColWrapper,B=D.RowWrapper,G=q("pro-form-group"),H=m&&(0,a.jsx)(d.Z,{style:{marginRight:8},rotate:T?void 0:90}),A=(0,a.jsx)(f.Z,{label:H?(0,a.jsxs)("div",{children:[H,M]}):M,tooltip:P}),O=(0,g.useCallback)((function(e){var n=e.children;return(0,a.jsx)(l.Z,(0,s.Z)((0,s.Z)({},L),{},{className:h()("".concat(G,"-container"),null==L?void 0:L.className),size:F,align:b,direction:C,style:(0,s.Z)({rowGap:0},null==L?void 0:L.style),children:n}))}),[b,G,C,F,L]),U=z?z(A,e):A,Y=(0,g.useMemo)((function(){var e=[],n=g.Children.toArray(o).map((function(n,r){var t;return g.isValidElement(n)&&(null==n||null===(t=n.props)||void 0===t?void 0:t.hidden)?(e.push(n),null):0===r&&g.isValidElement(n)&&E?g.cloneElement(n,(0,s.Z)((0,s.Z)({},n.props),{},{autoFocus:E})):n}));return[(0,a.jsx)(B,{Wrapper:O,children:n},"children"),e.length>0?(0,a.jsx)("div",{style:{display:"none"},children:e}):null]}),[o,B,O,E]),Q=(0,u.Z)(Y,2),J=Q[0],K=Q[1];return(0,a.jsx)(W,{children:(0,a.jsxs)("div",{className:h()(G,(0,i.Z)({},"".concat(G,"-twoLine"),"twoLine"===_)),style:Z,ref:n,children:[K,(M||P||I)&&(0,a.jsx)("div",{className:"".concat(G,"-title"),style:k,onClick:function(){V(!T)},children:I?(0,a.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[U,(0,a.jsx)("span",{onClick:function(e){return e.stopPropagation()},children:I})]}):U}),m&&T?null:J]})})}));j.displayName="ProForm-Group";var Z=j,_=r(13026);function y(e){return(0,a.jsx)(o.I,(0,s.Z)({layout:"vertical",submitter:{render:function(e,n){return n.reverse()}},contentRender:function(e,n){return(0,a.jsxs)(a.Fragment,{children:[e,n]})}},e))}y.Group=Z,y.useForm=t.Z.useForm,y.Item=_.Z,y.useWatch=t.Z.useWatch,y.ErrorList=t.Z.ErrorList,y.Provider=t.Z.Provider,y.useFormInstance=t.Z.useFormInstance},39277:function(e,n,r){r.d(n,{Z:function(){return f}});var t=r(75782),s=(r(7085),r(76384)),a=r(24572),o=(r(77178),r(57500)),i=r(4637),l=r(52153),c=r(19803),u=r.n(c),d=r(59496),p=function(e){var n=e.label,r=e.tooltip,c=e.ellipsis,p=e.subTitle,f=(0,d.useContext)(o.ZP.ConfigContext).getPrefixCls;if(!r&&!p)return(0,i.jsx)(i.Fragment,{children:n});var m=f("pro-core-label-tip"),h="string"==typeof r||d.isValidElement(r)?{title:r}:r,g=(null==h?void 0:h.icon)||(0,i.jsx)(l.Z,{});return(0,i.jsxs)("div",{className:m,onMouseDown:function(e){return e.stopPropagation()},onMouseLeave:function(e){return e.stopPropagation()},onMouseMove:function(e){return e.stopPropagation()},children:[(0,i.jsx)("div",{className:u()("".concat(m,"-title"),(0,a.Z)({},"".concat(m,"-title-ellipsis"),c)),children:n}),p&&(0,i.jsx)("div",{className:"".concat(m,"-subtitle"),children:p}),r&&(0,i.jsx)(s.Z,(0,t.Z)((0,t.Z)({},h),{},{children:(0,i.jsx)("span",{className:"".concat(m,"-icon"),children:g})}))]})},f=d.memo(p)},77603:function(e,n,r){r.r(n),r.d(n,{default:function(){return q}});var t=r(25359),s=r.n(t),a=r(57213),o=r.n(a),i=r(49811),l=r.n(i),c=r(54306),u=r.n(c),d=r(43961),p=r(84045),f=r(59496),m={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z",fill:e}},{tag:"path",attrs:{d:"M232 840h560V536H232v304zm280-226a48.01 48.01 0 0128 87v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 0128-87z",fill:n}},{tag:"path",attrs:{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z",fill:e}}]}},name:"lock",theme:"twotone"},h=r(38119),g=function(e,n){return f.createElement(h.Z,(0,p.Z)((0,p.Z)({},e),{},{ref:n,icon:m}))};g.displayName="LockTwoTone";var v=f.forwardRef(g),x=r(17917),j=r(99325),Z=r(74958),_=r(6333),y=r(51089),M=r(25389),P=r(67587),w=r(88641),b="container___InCDr",C="lang___RwYTh",N="content___byzFz",F="form___qrIjX",k="top___aIaTo",z="header___vdxMK",L="logo___CnY9S",I="title___QcvZ9",E="desc___BOds5",S="main___uLpMe",R="prefixIcon___Ug0YF",T=r(4637),V=function(e){var n=e.content;return(0,T.jsx)(x.Z,{style:{marginBottom:24},message:n,type:"error",showIcon:!0})},q=function(){var e=(0,f.useState)(!1),n=u()(e,2),r=n[0],t=n[1],a=(0,f.useState)({}),i=u()(a,2),c=i[0],p=i[1],m=(0,M.useModel)("@@initialState"),h=m.initialState,g=m.setInitialState,x=(0,M.useIntl)(),q=function(){var e=l()(s()().mark((function e(){var n,r,t,a,i,l,c,u;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null==h||null===(n=h.fetchUserInfo)||void 0===n?void 0:n.call(h),a=null==h||null===(r=h.fetchMenuData)||void 0===r?void 0:r.call(h),e.next=4,t;case 4:return i=e.sent,e.next=7,a;case 7:l=e.sent,c=null==l?void 0:l.menuData,u=null==l?void 0:l.menuOperateData,i&&g(o()(o()({},h),{},{currentUser:i,menuData:c,menuOperateData:u}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=l()(s()().mark((function e(n){var r;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,(0,w.Qj)(o()({},n));case 4:if("ok"!==(r=e.sent).status){e.next=11;break}return j.ZP.success("登录成功！"),e.next=9,q();case 9:return M.history&&setTimeout((function(){var e=M.history.location.redirect;M.history.push(e||"/")}),10),e.abrupt("return");case 11:p(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),j.ZP.error("登录失败，请重试！");case 17:t(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),W=c.status;return(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("div",{className:C,children:M.SelectLang&&(0,T.jsx)(M.SelectLang,{})}),(0,T.jsx)("div",{className:N,children:(0,T.jsxs)("div",{className:F,children:[(0,T.jsxs)("div",{className:k,children:[(0,T.jsx)("div",{className:z,children:(0,T.jsxs)(M.Link,{to:"/",children:[(0,T.jsx)("img",{alt:"logo",className:L,src:"logo.svg"}),(0,T.jsx)("span",{className:I,children:"轻舟"})]})}),(0,T.jsx)("div",{className:E,children:"为Java Web工程提供基础支撑"})]}),(0,T.jsx)("div",{className:S,children:(0,T.jsxs)(Z.A,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:x.formatMessage({id:"pages.login.submit",defaultMessage:"登录"})},render:function(e,n){return n.pop()},submitButtonProps:{loading:r,size:"large",style:{width:"100%"}}},onFinish:function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:["error"===W&&(0,T.jsx)(V,{content:x.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"账户或密码错误（admin/ant.design)"})}),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(_.Z,{name:"username",fieldProps:{size:"large",prefix:(0,T.jsx)(d.Z,{className:R})},placeholder:x.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"用户名: admin or user"}),rules:[{required:!0,message:(0,T.jsx)(M.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"请输入用户名!"})}]}),(0,T.jsx)(_.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,T.jsx)(v,{className:R})},placeholder:x.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"密码: ant.design"}),rules:[{required:!0,message:(0,T.jsx)(M.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"请输入密码！"})}]})]}),(0,T.jsxs)("div",{style:{marginBottom:24},children:[(0,T.jsx)(y.Z,{noStyle:!0,name:"autoLogin",children:(0,T.jsx)(M.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"自动登录"})}),(0,T.jsx)("a",{style:{float:"right"},children:(0,T.jsx)(M.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"忘记密码"})})]})]})})]})}),(0,T.jsx)(P.Z,{})]})}}}]);